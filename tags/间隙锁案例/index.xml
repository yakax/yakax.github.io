<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>间隙锁案例 - 标签 - yakax</title><link>https://yakax.gitee.io/tags/%E9%97%B4%E9%9A%99%E9%94%81%E6%A1%88%E4%BE%8B/</link><description>间隙锁案例 - 标签 - yakax</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>yakax1569@gmail.com (yakax)</managingEditor><webMaster>yakax1569@gmail.com (yakax)</webMaster><copyright>This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.</copyright><lastBuildDate>Sun, 03 Jan 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://yakax.gitee.io/tags/%E9%97%B4%E9%9A%99%E9%94%81%E6%A1%88%E4%BE%8B/" rel="self" type="application/rss+xml"/><item><title>MySQL-锁-间隙锁案例篇</title><link>https://yakax.gitee.io/mysql-%E9%94%81-%E9%97%B4%E9%9A%99%E9%94%81%E6%A1%88%E4%BE%8B%E7%AF%87/</link><pubDate>Sun, 03 Jan 2021 00:00:00 +0000</pubDate><author>作者</author><guid>https://yakax.gitee.io/mysql-%E9%94%81-%E9%97%B4%E9%9A%99%E9%94%81%E6%A1%88%E4%BE%8B%E7%AF%87/</guid><description><![CDATA[<h2 id="间隙加锁规则">间隙加锁规则</h2>
<ol>
<li>原则1：加锁的基本单位是next-key lock。希望你还记得，next-key lock是前开后闭区间。</li>
<li>原则2：查找过程中访问到的对象才会加锁。</li>
<li>优化1：索引上的等值查询，给唯一索引加锁的时候，next-key lock退化为行锁。</li>
<li>优化2：索引上的等值查询，向右遍历时且最后一个值不满足等值条件的时候，next-key lock退化为间隙锁。</li>
<li>一个bug：唯一索引上的范围查询会访问到不满足条件的第一个值为止。</li>
</ol>]]></description></item></channel></rss>